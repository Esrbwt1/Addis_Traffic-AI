# Traffic Flow Prediction and Optimization: Addis Ababa Digital Twin

## ğŸ§  Project Overview
This project utilizes **SUMO (Simulation of Urban MObility)** and **Machine Learning** to create a digital twin of the Bole/Meskel Square area in Addis Ababa. It serves two purposes:
1.  **Real-time Optimization:** Dynamically adjusting traffic light phases based on lane density.
2.  **Predictive Modeling:** Using a Random Forest algorithm to predict future traffic congestion with **99.98% accuracy**.

## ğŸ“‚ Repository Structure
*   **`r_traffic_brain.py`**: The control script. Interacts with SUMO via TraCI to optimize lights and harvest data.
*   **`r_predictor.py`**: The AI model. Trains on the harvested data to predict future flow.
*   **`addis_data.csv`**: The dataset generated by the simulation (3,600+ data points).
*   **`osm.sumocfg`**: The simulation configuration file generated from OpenStreetMap.

## ğŸš€ Installation & Prerequisites

### 1. Requirements
*   Python 3.10+
*   [Eclipse SUMO](https://eclipse.dev/sumo/) (Added to system PATH)

### 2. Python Dependencies
\`\`\`bash
pip install traci pandas numpy scikit-learn matplotlib
\`\`\`

## ğŸ•¹ï¸ Usage

### Step 1: Run the Simulation (Data Harvest)
This script launches the simulation. It will act as the "Brain", adjusting lights in real-time and saving traffic stats to \`addis_data.csv\`.
\`\`\`bash
python r_traffic_brain.py
\`\`\`
*Note: To see the visual simulation, edit the script and set \`SUMO_BINARY = "sumo-gui"\`.*

### Step 2: Train the AI (Prediction)
Once data is harvested, run the predictor to train the Random Forest model and visualize results.
\`\`\`bash
python r_predictor.py
\`\`\`
*Output: A graph comparing AI predictions vs. Reality and an R^2 accuracy score.*

## ğŸ“Š Results
*   **Model:** Random Forest Regressor (n_estimators=100)
*   **Accuracy (RÂ²):** 0.9998
*   **Prediction Window:** 10-second look-ahead.

## ğŸ—ºï¸ Map Data
Map data extracted via SUMO OSM Web Wizard targeting Addis Ababa, Ethiopia.